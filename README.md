# What is it?

This is a mandatory project for the PhD course in Python 2018.

# What is it about?

I include some pseudo-random data in the data-folder.
One data set, `df_cases.feather`, identifies cases. Rows corresponds to individuals and most columns are just placeholders without any data.
The aim of the project is to allocate data from three other data sources and to fill up the empty columns for the cases. 
More detilas can be found in the `pseudocode.txt` file. 

All python code is found in the file `non_equi_joins.Rmd`. This is an R markdown file but it includes Python code within code blocks like this:

```
#  ```{python}
#  # python code
#  ```
```

# Why use Rmarkdown?

The project is related to data science. An initial aim was therefore to use a [Jupyter](http://jupyter.org/) notebook to make data analysis and reporting intermingled.
During the project planning phase, it was known however that RStudio was working on extended support for Python in RStudio. It was therefore decided to try this new feature instead. 


# System requirements

* **Python3:** with packages [feather](https://github.com/wesm/feather) to read data, [numpy](http://www.numpy.org/) for numerical calculations, [pandas](https://pandas.pydata.org/) for data manipulation and [openpyxl](https://openpyxl.readthedocs.io/en/stable/) to export the result to Excel.
* **R:** The R markdown file include Python code but the document itself is generating a HTML-report by using R.
It is therefore necessary to install R from [CRAN](https://cloud.r-project.org/) in order to produce the report. On the other hand, it might not be necassary to produce the report to run the project (see the "Simplified alternative" section below).
* **R packages:** [reticulate](https://rstudio.github.io/reticulate/) (to integrate R and Python) and [rmarkdown](https://rmarkdown.rstudio.com/) (to generate R markdown reports). 
* **RStudio v 1.2:** Personally I prefer to use RStudio for the generating process (although this might not be strictly necessary).
To use the capabilities of intermingling Python code in R markdown, RStudio v 1.2 is required.
As of today (2018-05-16) this version has not yet been officially released.
It can be found though from a daily build: https://dailies.rstudio.com/
Note that this is (so far) not the version that can be installed easily from within Anaconda).


# Simplified alternative

I understand that all these extra requirements might seem overwhelming. Therefore, the output of the generated R markdown report is also published using Github Pages [here](https://eribul.github.io/course_projrct/). The relevant Python code is presented in grey boxes. All Python code is also extracted to a file called `extracted_py_code.py` found in the project folder (it contains all Python code but not the additional comments from the `.Rmd` file). It should be possible to run the `extracted_py_code.py` file in any way that is prefered for Python code. It should therefore not be necessary to run the `non_equi_joins.Rmd` file directly. 

# Note

Both the published report (with Python code and output, as well as the `extracted_py_code.py` file are generated by the `make.R` file.
